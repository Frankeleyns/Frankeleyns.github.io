<!DOCTYPE html>
<html lang="zh-Hans">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="personal blog">
  <meta name="author" content="GrowthLj">
  <meta name="keywords" content="">
  <title>成功日记（十三） ~ Growth Blog</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >
<link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


  



</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>GrowthLj Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">主页</a>
          </li>
        
          
          
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('https://i.loli.net/2020/05/14/nbsRNlMKUdCDfyP.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              <p class="mt-3">Monday, August 17th 2020, 6:00 pm</p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <h1 id="成功日记（十三）"><a href="#成功日记（十三）" class="headerlink" title="成功日记（十三）"></a>成功日记（十三）</h1><h2 id="1-Java小技巧"><a href="#1-Java小技巧" class="headerlink" title="1.Java小技巧"></a>1.Java小技巧</h2><p><strong>建造者模式也可以适用于类的层次结构</strong></p>
<p>比如，用类的层次根部的一个抽象类表示各种披萨:</p>
<pre><code class="java">public abstract class Pizza {
    //HAM:火腿，MUSHROOM: 蘑菇，ONION:洋葱，PEPPER:胡椒，SAUSAGE:香肠
    public enum Topping { HAM, MUSHROOM, ONION, PEPPER, SAUSAGE }
    Set&lt;Topping&gt; toppings;

    abstract static class Builder&lt;T extends Builder&lt;T&gt;&gt; {
        /**
         * 创建一个枚举Set集合里面元素为Topping
         * EnumSet.noneOf(Topping.class)输出:[]
         * EnumSet.allOf(Topping.class)输出：[HAM, MUSHROOM, ONION, PEPPER, SAUSAGE]
         */
        EnumSet&lt;Topping&gt; toppings = EnumSet.noneOf(Topping.class);
        public T addTopping(Topping topping){
            toppings.add(topping);
            return self();
        }

        abstract Pizza build();

        protected abstract T self();

    }

    Pizza(Builder&lt;?&gt; builder){
        toppings = builder.toppings.clone();
    }
}</code></pre>
<p>有两个具体的Pizza子类，一个是纽约风味披萨NyPizza，一个是半月型披萨Calzone</p>
<pre><code class="java">//纽约披萨
public class NyPizza extends Pizza{
    //中，大，超大
    public enum Size{ SMALL,  MEDIUM, LARGE, }
    private Size size;

    public static class Builder extends Pizza.Builder&lt;Builder&gt;{
        private Size size;

        public Builder(Size size){
            this.size = Objects.requireNonNull(size);
        }

        @Override
        public NyPizza build() {
            return new NyPizza(this);
        }

        @Override
        protected Builder self() {
            return this;
        }
    }

    private NyPizza(Builder builder) {
        super(builder);
        size = builder.size;
    }

}

//半月形披萨
public class Calzone extends Pizza {
    //是否加酱
    private boolean sauceInside;

    public static class Builder extends Pizza.Builder&lt;Builder&gt;{
        private boolean sauceInside = false;    //Default

        public Builder sauceInside(){
            this.sauceInside = true;
            return this;
        }

        @Override
        public Calzone build() {
            return new Calzone(this);
        }

        @Override
        protected Builder self() {
            return this;
        }
    }

    private Calzone(Builder builder) {
        super(builder);
        sauceInside = builder.sauceInside;
    }

}</code></pre>
<p>每个子类的<strong>build</strong>方法都返回了正确的子类：<strong>NyPizza.Builder</strong>的<strong>build</strong>返回了<strong>NyPizza</strong>，而<strong>Calzone.Builder</strong>返回了<strong>Calzone</strong>。这样就不需要子类转换类型，这被称作<strong>协变返回类型</strong>(covariant return type)</p>
<p>调用示例：</p>
<pre><code class="java">NyPizza nyPizza = new NyPizza.Builder(LARGE).addTopping(SAUSAGE)
    .addTopping(HAM).build();    //输出：size=LARGE, toppings=[HAM, SAUSAGE]


Calzone calzone = new Calzone.Builder().addTopping(MUSHROOM)
    .addTopping(ONION).addTopping(PEPPER)
    .sauceInside().build();    //输出：sauceInside=true, toppings=[MUSHROOM, ONION, PEPPER]</code></pre>
<p><strong>使用枚举实现单例模式</strong></p>
<p>实现单例模式的常用方法都是，保持构造器私有，然后导出公有静态成员</p>
<pre><code class="java">public class FakeInstance {

    public static final FakeInstance INSTANCE = new FakeInstance();

    private FakeInstance(){}
}</code></pre>
<p>但这种单例模式是可以被反射攻击的</p>
<pre><code class="java">    public static void fakeInstance() throws Exception {
        Class&lt;FakeInstance&gt; clazz = FakeInstance.class;
        Constructor&lt;FakeInstance&gt; constructor = clazz.getDeclaredConstructor(null);
        constructor.setAccessible(true);
        FakeInstance fakeInstance = constructor.newInstance();
        FakeInstance instance = FakeInstance.INSTANCE;
        System.out.println(fakeInstance.equals(instance) &amp;&amp; fakeInstance == instance);  //输出：false
    }</code></pre>
<p>而单例最好的实现方式是枚举，这种方式的好处有三个，枚举类没法反射、线程安全、防止序列化生成新的类，而且代码简洁</p>
<pre><code class="java">public enum RealInstance {
        INSTANCE;

        public void become(){
            System.out.println(&quot;成为单例&quot;);
        }
}</code></pre>
<p>调用示例：</p>
<pre><code class="java">    RealInstance.INSTANCE.become();  //输出：成为单例</code></pre>
<h2 id="2-《穷查理宝典》"><a href="#2-《穷查理宝典》" class="headerlink" title="2.《穷查理宝典》"></a>2.《穷查理宝典》</h2><p>目前已经看到<strong>第四章 查理十一讲</strong>的第一讲，查理哈佛大学毕业典礼上的演讲。</p>
<p>查理在文中提到<strong>约翰尼·卡森</strong>(美国著名脱口秀主持人)的演讲，教你如何获得痛苦人生</p>
<ul>
<li>1.为了改变心情或感觉使用化学物质</li>
<li>2.妒忌</li>
<li>3.怨恨</li>
</ul>
<p>而后查理开了一些可以使你达到痛苦人生的处方</p>
<p>第一，<strong>你要反复无常</strong>，这个习惯可以抵消你所有优点产生的效应。</p>
<p>第二，<strong>依靠自己的经验获取知识，不要吸取别人的教训</strong>。</p>
<p>第三，<strong>遭遇失败后就一蹶不振</strong>，这个方法可以让你们永远的陷入痛苦生活中。</p>
<p>第四，<strong>忘记乡下人故事</strong>，有个乡下人曾经说过：“要是我知道我会死在哪里就好了，这样我就永远都不会去那个地方”。</p>
<p>第五，<strong>尽可能减少客观性</strong>。</p>
<p>这种说反话的演讲真的很奇妙，查理·芒格简直是个<strong>失败学大师</strong>，和国内的成功学大师完全反过来，但他可比所谓的成功学大师成功多了。</p>
<h2 id="3-《经济学原理》"><a href="#3-《经济学原理》" class="headerlink" title="3.《经济学原理》"></a>3.《经济学原理》</h2><p>目前已看到<strong>第六章 供给、需求与政府政策</strong></p>
<p>任何一桩物品的交易中，买家总想要低价格，卖家总想要高价格。</p>
<p>政府为了买家利益，可以规定物品的法定最高价格，这称为<strong>价格上限</strong>。</p>
<p>政府为了卖家利益，可以规定物品的法定最低价格，这称为<strong>价格下限</strong>。</p>
<p><strong>价格上限的影响：</strong>如果价格上限过低，就会产生<strong>商品短缺</strong>，以冰淇凌为例</p>
<p><img src="https://i.loli.net/2020/08/17/1b7ip9NKU5vI2lz.png" srcset="/img/loading.gif" alt="UpLimit.png"></p>
<p>当政府规定价格小于市场均衡价格的时候，此时<strong>商品供给量少于商品需求量</strong>，于是造成了商品短缺。</p>
<p><strong>价格下限的影响：</strong>如果价格下限过低，则会产生<strong>商品过剩</strong>，比如最低工资</p>
<p><img src="https://i.loli.net/2020/08/17/2vCp5QGcnhti178.png" srcset="/img/loading.gif" alt="LowerLimit.png"></p>
<p>如果最低工资高于均衡工资，<strong>劳动供给量大于需求量</strong>，结果就是失业。最低工资增加了有工作人士的收入，但减少了没工作人士的收入。</p>
<p>价格控制的初衷都是想帮助人们，尤其是穷人，但是最后的结果都往往伤害了它想要帮助的对象，如果政府限制了物品的最高价格，结果就是物品会更难被买到，急需要该物品的消费者就会支付更高的价格来购买这个物品，于是就有了黑市交易。</p>
<p>最低工资会增加一些人的收入，却也会使一些人成为失业者。</p>
<h2 id="4-《计算机网络原理》"><a href="#4-《计算机网络原理》" class="headerlink" title="4.《计算机网络原理》"></a>4.《计算机网络原理》</h2><p>这周我买的计算机网络原理到了，下次考试搞定这门。</p>
<p>计划30天看完这本书，15天用来刷题；</p>
<div align="center">
    <img src="https://i.loli.net/2020/08/16/m1oUTwrSVs6BxFR.jpg" srcset="/img/loading.gif">
</div>




<h2 id="5-Keep"><a href="#5-Keep" class="headerlink" title="5.Keep"></a>5.Keep</h2><p>*<em>√ *</em> 打卡</p>
<div align="center">
    <img src="https://i.loli.net/2020/08/15/YQh5eF9lcJNPbkD.jpg" srcset="/img/loading.gif">
</div>

            <hr>
          </div>
          <br>
          <div>
            
            <p>
              <i class="iconfont icon-tag"></i>
              
                <a class="hover-with-bg" href="/tags/%E6%88%90%E5%8A%9F%E6%97%A5%E8%AE%B0">成功日记</a>
              
              <span id="/2020/08/17/成功日记-13/" class="visitors leancloud_visitors" data-flag-title="成功日记（十三）">
                <em id="visitors-text" class="post-meta-item-text"></em>
                <i id="visitors-count"></i>
              </span>
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;TOC</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>
    
  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>


  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>


  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "成功日记（十三）&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $('#post').find('img').each(
      function () {
        var _this = $(this);
        var _src = _this.attr("src");
        _this.wrap('<a data-fancybox="images" href="' + _src + '" ></a>');
      }
    );
  </script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>




</body>
</html>
